(this["webpackJsonpshippypro-flight"]=this["webpackJsonpshippypro-flight"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a(4),s=a.n(c),i=(a(28),a(29),a.p+"static/media/shippypro.8f6655a9.svg"),l=function(){return Object(r.jsx)("div",{className:"header border-gradient-shippypro border-gradient-bottom",children:Object(r.jsx)("img",{className:"logo",src:i,alt:"logo"})})},o=function(){return Object(r.jsx)("div",{className:"footer d-flex justify-content-center",children:"\xa9 2020 Shippypro - Developed by Rosario Mazzacano"})},d=a(5),u=a.n(d),j=a(8),b=a(3),p=a(21),h=a.n(p).a.create({baseURL:"https://recruitment.shippypro.com/flight-engine/api/",headers:{Authorization:"Bearer 1|MN9ruQV0MFEsgOzMo8crw8gB575rsTe2H5U1y2Lj"}}),f=a(22),m=a.n(f),O=a.p+"static/media/logotipo.e2a6af67.svg",g=function(){return Object(r.jsx)("div",{className:"preloader",children:Object(r.jsx)("img",{className:"img",src:O,alt:"preloder"})})},x=a(9),v=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),i=Object(b.a)(s,2),l=i[0],o=i[1],d=Object(n.useState)([]),p=Object(b.a)(d,2),f=p[0],O=p[1],v=Object(n.useState)([]),N=Object(b.a)(v,2),y=N[0],S=N[1],w=Object(n.useState)([]),k=Object(b.a)(w,2),M=k[0],E=k[1],A=Object(n.useState)(!1),I=Object(b.a)(A,2),C=I[0],z=I[1],F=Object(n.useState)(!1),R=Object(b.a)(F,2),B=R[0],D=R[1],J=Object(n.useState)(),L=Object(b.a)(J,2),U=L[0],H=L[1],Q=Object(n.useState)(!1),T=Object(b.a)(Q,2),V=T[0],q=T[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,r,n,s,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=6;break}return e.next=3,h.get("flights/from/".concat(y,"/to/").concat(M));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,h.get("flights/all");case 8:e.t0=e.sent;case 9:return t=e.t0,U&&z(!0),e.next=13,h.get("airlines/all");case 13:return a=e.sent,e.next=16,h.get("airports/all");case 16:r=e.sent,n=a.data.data.reduce((function(e,t){return e.set(t.id,t.name)}),new Map),s=t.data.data.map((function(e){return Object.assign({airlineName:n.get(e.airlineId)},e)})),i=r.data.data.reduce((function(e,t){return e.set(t.id,t.codeIata)}),new Map),l=s.map((function(e){return Object.assign({departureName:i.get(e.departureAirportId),arrivalName:i.get(e.arrivalAirportId)},e)})),console.log(l),c(l),o(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,t){delete e[t]},a=function(e,t,a){e[a]=e[t],delete e[t]},e.next=4,h.get("airports/all");case 4:(t=e.sent).data.data.forEach((function(e){return a(e,"id","value")})),t.data.data.forEach((function(e){return a(e,"codeIata","label")})),t.data.data.forEach((function(e){return r(e,"latitude")})),t.data.data.forEach((function(e){return r(e,"longitude")})),O(t.data.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[U]);var G=a.length;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"row searchForm",children:[Object(r.jsx)("div",{className:"col-md-4 select",children:Object(r.jsx)(x.a,{placeholder:"Departure",isClearable:!1,isSearchable:!0,name:"departure",options:f,onChange:function(e){return S(e.label),y!==M&&0!==M.length&&D(!0),void q(!1)}})}),Object(r.jsx)("div",{className:"col-md-4 select",children:Object(r.jsx)(x.a,{placeholder:"Arrival",isClearable:!1,isSearchable:!0,name:"arrival",options:f,onChange:function(e){return E(e.label),y!==M&&0!==y.length&&D(!0),void q(!1)}})}),Object(r.jsxs)("div",{className:"col-md-4 d-flex justify-content-center align-items-center",children:[!B&&Object(r.jsx)("div",{className:"validationSearch",children:"Select Airport"}),B&&Object(r.jsx)("button",{onClick:function(){o(!0),q(!0),H(y+" - "+M)},type:"button",className:V?"btn btn-primary btn-block disabled":"btn btn-primary btn-block",children:"Search"})]})]}),!C&&!l&&Object(r.jsxs)("div",{className:"flightMessage d-flex justify-content-center align-items-center flex-column",children:[Object(r.jsx)("span",{children:"All Routes"})," ",Object(r.jsxs)("span",{children:["(num. flights: ",G,")"]})]}),C&&!l&&Object(r.jsxs)("div",{className:"flightMessage d-flex justify-content-center align-items-center flex-column",children:[Object(r.jsxs)("span",{children:["Route ",U]})," ",Object(r.jsxs)("span",{children:["(num. flights ",G,")"]})]}),l&&Object(r.jsx)(g,{}),!l&&a&&a.sort((function(e,t){return e.price-t.price})).map((function(e){var t=e.id,a=e.price,n=e.airlineName,c=e.departureName,s=e.arrivalName;return Object(r.jsx)(m.a,{once:e.once,height:80,offset:[-80,0],children:Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col-12 card text-center border-gradient border-gradient-shippypro",children:[Object(r.jsxs)("div",{className:"card-header",children:[c," - ",s]}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("h2",{className:"card-title",children:n})}),Object(r.jsxs)("div",{className:"card-footer",children:["\u20ac ",a]})]})})},t)}))]})};var N=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(v,{})}),Object(r.jsx)(o,{})]})};a(70);s.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3f48fc94.chunk.js.map